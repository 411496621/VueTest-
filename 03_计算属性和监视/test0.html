<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>$Title$</title>
</head>
<body>
<script type="text/javascript">
  // Object.defineProperty(obj, prop, descriptor)  定义更强大的属性

  /*
  给p对象添加一个fullName属性, 要求:
    1. fullName的值的组成: firstName-lastName
    2. 如果改变firstName/lastName, fullName也要同步改变
    3. 如果改变fullName, firstName/lastName也要同步改变
   */
  const p = {
    firstName:'A',
    lastName:'B'
  }
  Object.defineProperty(p,'fullName',{ // 配置对象 ===》 属性描述符
    get(){  // 读取属性值时 调用get方法
      console.log('get()')
      return this.firstName + '-' + this.lastName
    },
    set(value){ // 当属性值要被改变时 调用set方法 起到监视作用
       console.log('set()')
       const names = value.split('-')
       this.firstName = names[0]
       this.lastName = names[1]
    }
  })
  console.log(p.fullName)
  p.firstName = 'C'
  p.lastName = 'D'
  console.log(p.fullName)
  p.fullName = 'E-F'
  console.log(p.firstName,p.lastName,p.fullName)




</script>
</body>
</html>
